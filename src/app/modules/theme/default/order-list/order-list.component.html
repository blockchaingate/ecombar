
<!-- 上下边线，解决 margin 问题 -->
<main id="content" role="main" class="border-top border-bottom bg-light">  <!-- 背景灰色 -->

  <div class="bg-gray-13 bg-md-transparent">
    <div class="container">
        <!-- breadcrumb -->
        <div class="my-md-3">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb mb-3 flex-nowrap flex-xl-wrap overflow-auto overflow-xl-visble">
                    <li class="breadcrumb-item flex-shrink-0 flex-xl-shrink-1 font-size-18"><a href="/store/{{storeId}}">{{ 'Back' | translate }}&nbsp;&nbsp;></a></li>  <!-- 字体设置 -->
                    <!-- <li class="breadcrumb-item flex-shrink-0 flex-xl-shrink-1"><a href="/">{{ 'Home' | translate }}</a></li>
                    <li class="breadcrumb-item flex-shrink-0 flex-xl-shrink-1"><a href="/store/{{storeId}}/category/{{ product.primaryCategoryId?._id }}">{{ product.primaryCategoryId?.category | translateField }}</a></li>
                    <li class="breadcrumb-item flex-shrink-0 flex-xl-shrink-1 active" aria-current="page">{{ product && product.title | translateField }}</li> -->
                </ol>
            </nav>
        </div>
        <!-- End breadcrumb -->
    </div>
  </div>

  <div class="row justify-content-center">  <!-- 本行，水平置中 -->
      <div class="m-3 p-3 container border rounded bg-white">  <!-- 背景白色，圆角边框，mb-3 改 m-3 -->

          <div class="text-center">
              <h1>{{ 'Orders' | translate }}</h1>
          </div>

          <div class="cart-table">  <!-- 下边框 mb-10 -->
            <form class="font-size-18" action="#" method="post">  <!-- "mb-4" -->
              <table class="table mb-3" cellspacing="0">
                <thead>
                  <tr>
                    <th class="product-name">{{'Order' | translate}}</th>
                    <th class="product-name">{{'Product' | translate}}</th>
                    <th class="product-price">{{'Price' | translate}}</th>
                    <th class="product-quantity w-lg-15">{{'Quantity' | translate}}</th>
                    <th class="product-subtotal">{{'Total' | translate}}</th>
                  </tr>
                </thead>
                <tbody *ngFor="let order of orders">
                  <tr class="py-2" *ngFor="let item of order.items">
                    <td>{{ order._id }}</td>
                    <td class="font-weight-bold">{{ item.title }}</td>
                    <td>{{ item.price }}</td>
                    <td>x {{ item.quantity }}</td>
                    <td>{{ item.price * item.quantity }} {{ currency }}</td>
                  </tr>
                </tbody>
                <tfoot class="border-top font-size-20">
                  <tr>
                    <th colspan="4" class="text-right">{{ 'Subtotal' | translate }}</th>
                    <th class="font-size-17">
                        {{subtotal}} {{currency}}
                    </th>
                  </tr>
                  <!-- <tr>
                    <th colspan="4" class="text-right">{{ 'Shipping' | translate }}</th>
                    <th class="font-size-17">
                        {{ (shippingFee == '0' ? 'Free' : (shippingFee + currency)) | translate }}
                    </th>
                  </tr> -->
                  <!-- <tr *ngIf="discount">
                    <th colspan="4" class="text-right">{{ 'Discount' | translate }}</th>
                    <th class="font-size-17">
                        {{ discount }}%
                    </th>
                  </tr> -->
                  <tr>
                    <th colspan="4" class="text-right">{{ 'Tax' | translate }}</th>
                    <th class="font-size-17">
                        {{tax}} {{currency}}
                    </th>
                  </tr>
                  <tr>
                    <th colspan="4" class="text-right">{{ 'Total' | translate }}</th>
                    <th class="font-size-17">
                        {{total}} {{currency}}
                    </th>
                  </tr>
                  <tr>
                    <td colspan="5">
                      <div class="d-md-flex">
                        <button type="button" class="btn btn-danger btn-lg btn-block NewButton" (click)="placeOrder()">
                            {{'Pay Bill' | translate}}
                        </button>
                      </div>
                    </td>
                  </tr>
                </tfoot>
              </table>
            </form>
          </div>


          <!-- <div class="px-2">

            <dl class="work-list row">
              <dt class="col-3">{{ 'Id' | translate }}</dt>
              <dt class="col-3">{{ 'Date Created' | translate }}</dt>
              <dt class="col-3">{{ 'Total' | translate }}</dt>
              <dt class="col">{{ 'Status' | translate }}</dt>
            </dl>
          
            <dl class="work-list row" *ngFor="let order of orders">
              <dd class="col-3">
                <a target="_blank" *ngIf="order.merchantId" href="/store/{{order.merchantId}}/order/{{order._id}}">
                  <u>{{ order._id }}</u>
                </a>
                <span *ngIf="!order.merchantId">{{ order._id }}</span>
              </dd>
              <dd class="col-3">{{ order.dateCreated | date }}</dd>
              <dd class="col-3">{{ order.totalAmount }}</dd>
              <dd class="col">
                <div>
                  {{ getStatus(order) | translate }}
                </div>
                <div *ngIf="order.paymentStatus == 2" >
                  <a (click)="requestRefund(order)">
                    <u>Request refund</u>
                  </a>
                </div>
                <div *ngIf="order.paymentStatus == 5" >
                  <a (click)="cancelRequestRefund(order)">
                    <u>Cancel request refund</u>
                  </a>
                </div>
              </dd>
            </dl>
          
          </div> -->
                      
      </div>
  </div>

</main>
